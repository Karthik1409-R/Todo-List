<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>
    <link rel="stylesheet" href="output.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Tangerine:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Autour+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="output.css">   
</head>
<body class="bg-gradient-to-r from-black via-gray-600 to-black">

    <!-- Header -->

    <header class="fixed top-0 w-full z-50  shadow-gray-700 shadow-md">
        <div class="p-5 lg:px-10 bg-gradient-to-r from-gray-800 via-black to-gray-800 flex justify-between items-center ">
            <a href="#">
            <h1 class="text-white text-3xl font-extrabold" style="font-family:Tangerine,cursive;">Planify</h1>
            </a>

            <div>
                <button id="back-btn"><a class="text-white cursor-pointer" style="font-family: Poppins,sans-serif;">Back</a></button>
            </div>
        </div>

    </header>
    
    <!-- Main Container -->

        <div class="">
            <h1 class="text-[24px] font-bold flex justify-center p-6 items-center gap-2 text-cyan-300 pt-[100px]" style="font-family:Autour One, system-ui;"><span>üìù</span>To-Do List</h1>
            <div class="flex justify-center p-6 pt-3 flex-col md:px-36 lg:px-[272px] xl:px-[400px] 2xl:px-[528px]">
                <input type="text" id="taskInput" placeholder="Enter your task" class="w-full border-[1px] border-gray-400 p-2 px-3 rounded-md focus:outline-none focus:ring-1 focus:ring-orange-500" style="font-family: Poppins, sans-serif;">

                <div class="flex justify-center pt-2 gap-2.5" style="font-family: Poppins, sans-serif;">
                    <input type="date" id="dateInput" class="w-full border-[1px] border-gray-400 p-2 px-3 rounded-md">

                    <select name="" id="" class="w-full border-[1px] border-gray-400 p-2 px-3 rounded-md" >
                        <option value="To do">To do</option>
                        <option value="Doing">Doing</option>
                        <option value="Done">Done</option>
                    </select>

                    
                </div>

                <div class="pt-2">
                    <button onclick="addTask()" class="w-full bg-blue-500 text-white p-2 px-3 rounded-md" style="font-family: Poppins, sans-serif;">+Add Task</button>
                </div>
            </div>  
            <hr class="">

        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full mx-auto max-w-7xl p-6">

            <!-- To Do Column -->
            <div>
            <h2 class="text-xl font-bold mb-4 flex items-center justify-center gap-2 text-cyan-300" style="font-family:Autour One, system-ui;">üéØ To do</h2>
            <div id="todo" class="space-y-3"></div>
            </div>

            <!-- Doing Column -->
            <div>
            <h2 class="text-xl font-bold mb-4 flex items-center justify-center gap-2 text-cyan-300" style="font-family:Autour One, system-ui;">üåü Doing</h2>
            <div id="doing" class="space-y-3"></div>
            </div>

            <!-- Done Column -->
            <div>
            <h2 class="text-xl font-bold mb-4 flex items-center justify-center gap-2 text-cyan-300" style="font-family:Autour One, system-ui;">‚úÖ Done</h2>
            <div id="done" class="space-y-3"></div>
            </div>

        </div>

    <!-- Scripts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <script src="./src/todo.js"></script> -->

    <script>
        const taskInput = document.getElementById('taskInput');
        const dateInput = document.getElementById('dateInput');
        const statusSelect = document.querySelector('select');

        function addTask() {
            const text = taskInput.value.trim();
            const date = dateInput.value;
            const status = statusSelect.value.toLowerCase();

            if (!text) {
                alert("Enter your Task");
                return;
            }

            // Create task card container
            const taskCard = document.createElement('div');
            taskCard.className = "bg-white p-4 rounded-xl border-[2px] border-gray-300 flex justify-between gap-2 items-start";

            // Create content section (text,date)
            const contentWrapper = document.createElement('div');
            contentWrapper.className = "flex flex-col gap-2";

            const textContentWithCheckBox = document.createElement('div');
            textContentWithCheckBox.className = 'flex gap-2 items-center'

            const taskText = document.createElement('span');
            taskText.textContent = text;
            taskText.className = "text-gray-800 text-[20px] font-medium";

            const checkBox = document.createElement('input');
            checkBox.type = 'checkbox'
            checkBox.className = 'w-4 h-4 cursor-pointer'

            checkBox.onchange = () => {
            taskText.classList.toggle("line-through", checkBox.checked);
            };

            textContentWithCheckBox.appendChild(checkBox);
            textContentWithCheckBox.appendChild(taskText);

            const taskDate = document.createElement("span");
            taskDate.textContent = date ? `üìÖ ${date}` : "";
            taskDate.className = "text-sm text-gray-500";

            contentWrapper.appendChild(textContentWithCheckBox);
            if (date) contentWrapper.appendChild(taskDate);

            // Create button wrapper
            const buttonGroup = document.createElement("div");
            buttonGroup.className = "flex flex-col gap-2 ";

            // Edit button
            const editBtn = document.createElement("button");
            editBtn.innerHTML = `<i class="fa-solid fa-pen-to-square"></i>`;
            editBtn.className = "text-green-500 text-lg";
            editBtn.onclick = () => {
                const newText = prompt("Edit your task:", taskText.textContent);
                if (newText !== null) {
                    taskText.textContent = newText.trim();
                }
            };

            // Delete button
            const deleteBtn = document.createElement("button");
            deleteBtn.innerHTML = `<i class="fas fa-trash-alt"></i>`;
            deleteBtn.className = "text-red-500 text-lg";
            deleteBtn.onclick = () => taskCard.remove();

            buttonGroup.appendChild(editBtn);
            buttonGroup.appendChild(deleteBtn);

            // Add to task card
            taskCard.appendChild(contentWrapper);
            taskCard.appendChild(buttonGroup);


            // Append to correct column
            if (status === "to do") {
                document.getElementById("todo").appendChild(taskCard);
            } else if (status === "doing") {
                document.getElementById("doing").appendChild(taskCard);
            } else if (status === "done") {
                document.getElementById("done").appendChild(taskCard);
            }

            // Reset form
            taskInput.value = "";
            dateInput.value = "";
            statusSelect.value = "To do";

        }

        document.addEventListener("DOMContentLoaded", function () {
            const backBtn = document.getElementById("back-btn");
            if (backBtn) {
                backBtn.addEventListener("click", () => {
                    window.location.href = "index.html";
                });
            }
        });

    </script>
</body>
</html>